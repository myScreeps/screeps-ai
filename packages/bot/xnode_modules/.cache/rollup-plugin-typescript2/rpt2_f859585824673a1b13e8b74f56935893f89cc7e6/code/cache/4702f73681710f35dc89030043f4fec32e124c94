{"code":"import { fork, getChildren, } from 'oscore';\r\nconst NotCalculated = Symbol.for('NotCalculated');\r\nexport const memoizeForTick = (fn) => {\r\n    let tick = -1;\r\n    let result = NotCalculated;\r\n    return function* () {\r\n        if (tick !== Game.time || result === NotCalculated) {\r\n            result = yield* fn();\r\n            tick = Game.time;\r\n        }\r\n        return result;\r\n    };\r\n};\r\nexport function* ensureChild(type, priority, ...args) {\r\n    const children = yield* getChildren();\r\n    const child = Object.values(children).find((process) => process.type === type && _.isEqual(process.args, args));\r\n    if (child !== undefined) {\r\n        return child.pid;\r\n    }\r\n    return yield* fork(type, priority, ...args);\r\n}\r\n//# sourceMappingURL=system.js.map","references":["C:/Users/Neal/AppData/Local/Screeps/scripts/Grunt/screepsOS5/screeps-ai/packages/os/src/index.ts"],"map":"{\"version\":3,\"file\":\"system.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/library/system.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAGL,IAAI,EACJ,WAAW,GAMZ,MAAM,QAAQ,CAAC;AAEhB,MAAM,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAClD,MAAM,CAAC,MAAM,cAAc,GAAG,CAAI,EAAmB,EAAqB,EAAE;IAC1E,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;IACd,IAAI,MAAM,GAA6B,aAAa,CAAC;IAErD,OAAO,QAAQ,CAAC;QACd,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,MAAM,KAAK,aAAa,EAAE;YAClD,MAAM,GAAG,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;YACrB,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;SAClB;QAED,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,SAAS,CAAC,CAAC,WAAW,CAC1B,IAAU,EACV,QAAmB,EACnB,GAAG,IAAsC;IAEzC,MAAM,QAAQ,GAAG,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;IACtC,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CACxC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CACpE,CAAC;IAEF,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO,KAAK,CAAC,GAAG,CAAC;KAClB;IAED,OAAO,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC;AAC9C,CAAC\"}"}
